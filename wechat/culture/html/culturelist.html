<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>中慧集团</title>
    <meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,minimum-scale=1.0,user-scalable=no" />
    <meta name="apple-touch-fullscreen" content="yes" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black" />
    <link rel="stylesheet" href="../css/culturelist.css"/>
    <script src="../../../common/js/jquery-2.0.3.min.js"></script>
</head>
<body>
<!--页面头部-->
<!--<header>-->
<!--<h1>中慧集团</h1>-->
<!--</header>-->
<!--公司新闻导航-->
<div id="maxwrap">
  <div class="container clearfix">
    <ul class="newsheader">
        <li><a href=""><h2 class="active">列表文章</h2></a></li>
        <li><a href=""><h2>故事集</h2></a></li>
        <li><a href=""><h2>视频集</h2></a></li>
    </ul>
    <div class="containwarp clearfix">
        <!--列表文章页-->
        <div class="newslist clearfix">
            <ul class="newsul">
                <li class="newsli">
                    <a href="news.html" class="newstitle">列表文章两市近230股涨停 热点题材活跃 军工股蜂拥涨停</a>
                    <span class="newdate">2013-09-18</span>
                </li>
                <li class="newsli">
                    <a href="news.html" class="newstitle">沪伦通要来了？英财长称两国正研究股市通的可行性</a>
                    <span class="newdate">2013-09-18</span>
                </li>
                <li class="newsli">
                    <a href="news.html" class="newstitle">10月或将扬眉吐气 没有配资的中创板会更加健康</a>
                    <span class="newdate">2013-09-18</span>
                </li>
                <li class="newsli">
                    <a href="news.html" class="newstitle">反攻目的 逼空上涨后或强震 504亿巨资掀涨停浪</a>
                    <span class="newdate">2013-09-18</span>
                </li>
                <li class="newsli">
                    <a href="news.html" class="newstitle">光大:打出提振信心组合拳 兴业:爱在深秋已经开始</a>
                    <span class="newdate">2013-09-18</span>
                </li>
                <li class="newsli">
                    <a href="news.html" class="newstitle">45优等生现20倍估值 老艾侃股：秋收行情将展开</a>
                    <span class="newdate">2013-09-18</span>
                </li>

            </ul>
        </div>
        <!--故事集-->
        <div class="storylist clearfix" >
            <ul class="newsul">
                <li class="newsli">
                    <a href="news.html" class="newstitle">李庆云孝顺老人的故事</a>
                    <span class="newdate">2013-09-18</span>
                </li>
                <li class="newsli">
                    <a href="news.html" class="newstitle">弥足珍贵的年休假</a>
                    <span class="newdate">2013-09-18</span>
                </li>
                <li class="newsli">
                    <a href="news.html" class="newstitle">父女俩</a>
                    <span class="newdate">2013-09-18</span>
                </li>
                <li class="newsli">
                    <a href="news.html" class="newstitle">五年考证记</a>
                    <span class="newdate">2013-09-18</span>
                </li>
            </ul>
        </div>
        <!--视频集-->
        <div class="videolist">
            <ul class="videoul">
                <li class="videoli clearfix">
                    <div class="imagediv">
                        <a href="javascript:void(0);"><img class="leftimg" src="../img/1.jpg" style="width: 75px;height: 60px;display: inline-block;" /><div class="video_flag"></div></a>
                    </div>
                    <div class="newscontent">
                        <div class="title"><a href="news.html">两市近230股涨停 热点题材活跃 军工股蜂拥涨停</a></div>
                        <div class="newscomment">数据好于彭博预期的6.8%，但略低于前一季度7%的增速。</div><!-- (限制字数) -->
                    </div>
                </li>
                
            </ul>
        </div>
    </div>
  </div>
   

<script>
    // 检测左右滑动插件
    (function(){
        var LSwiperMaker = function(o){ 
            var that = this;
            this.config = o;
            this.control = false;
            this.sPos = {};
            this.mPos = {};
            this.dire;
            // this.config.bind.addEventListener('touchstart', function(){ return that.start(); } ,false);
            // 这样不对的，event对象只在事件发生的过程中才有效;
            this.config.bind.addEventListener('touchstart', function(e){ return that.start(e); } ,false);
            this.config.bind.addEventListener('touchmove', function(e){ return that.move(e); } ,false);
            this.config.bind.addEventListener('touchend', function(e){ return that.end(e); } ,false);
        };
 
        LSwiperMaker.prototype.start = function(e){ 
             var point = e.touches ? e.touches[0] : e;
             this.sPos.x = point.screenX;
             this.sPos.y = point.screenY;
        };
        LSwiperMaker.prototype.move = function(e){  
            var point = e.touches ? e.touches[0] : e;
            this.control = true;
            this.mPos.x = point.screenX;
            this.mPos.y = point.screenY;
        };
        LSwiperMaker.prototype.end = function(e){
            this.config.dire_h  && (!this.control ? this.dire = null : this.mPos.x > this.sPos.x ? this.dire = 'R' : this.dire = 'L');
            this.config.dire_h  || (!this.control ? this.dire = null : this.mPos.y > this.sPos.y ? this.dire = 'D' : this.dire = 'U');
            this.control = false;
            this.config.backfn(this);
        };
        window.LSwiperMaker = LSwiperMaker;
        document.addEventListener('touchmove', function (e) { e.preventDefault(); }, false);// 禁止微信touchmove冲突
    }());
 

    $(function(){
        var $nowmenu = $("ul.newsheader").find("li:first-child");    //当前菜单
       
        var height = $("#maxwrap").css("height")>$(window).height()?$("#maxwrap").css("height"):$(window).height();
         $("#maxwrap").css("height",height);

        // alert($(window).height());  //浏览器当前窗口可视区域高度
        // alert($(document).height());  //浏览器当前窗口文档的高度
        // alert($(document.body).height());//浏览器当前窗口文档body的高度

        var width   = $(window).width();                //获取屏幕宽度
        $(".container").css("width",width);             //设置容器宽度
        $(".containwarp").css("width",width*3);         //设置包裹层宽度

        $(".newslist").css("width",width-20);           //设置list宽度
        $(".storylist").css("width",width-20);
        $(".videolist").css("width",width-20);

        $(".newsheader li a").click(function(){
            $nowmenu = $(this).parent();        //保存当前的li节点
            $(this).find('h2').addClass("active");
            $(this).parent().siblings().find('h2').removeClass("active");
            var listname = $(this).find("h2").text();

            if (listname == "列表文章"){
                $(".containwarp").animate({right:0},"fast");
            }else if(listname == "故事集") {
                $(".containwarp").animate({right:width},"fast");
            }else if(listname == "视频集"){
                $(".containwarp").animate({right:width*2},"fast");
            }
            return false;
        });

        var a = new LSwiperMaker({
            bind:document.getElementById("maxwrap"),  // 绑定的DOM对象
            // bind:document.getElementsByTagName("BODY")[0],  // 绑定的DOM对象
            dire_h:true,     //true 判断左右， false 判断上下
            backfn:function(o){    //回调事件
                 // document.getElementById("dire").innerHTML = "向"+ o.dire + "滑";  
                 if(o.dire === 'L'){
                    if($nowmenu.find("h2").text() !== "视频集"){
                        $nowmenu = $nowmenu.next();
                        $nowmenu.find('h2').addClass("active");
                        $nowmenu.siblings().find('h2').removeClass("active");
                        var listname = $nowmenu.find("h2").text();

                        if (listname == "列表文章"){    //不可能到这里
                            $(".containwarp").animate({right:0},"fast");
                        }else if(listname == "故事集") {
                            $(".containwarp").animate({right:width},"fast");
                        }else if(listname == "视频集"){
                            $(".containwarp").animate({right:width*2},"fast");
                        }
                    }
                    
                 }else if(o.dire === 'R'){
                    if($nowmenu.find("h2").text() !== "列表文章"){
                        $nowmenu = $nowmenu.prev();
                        $nowmenu.find('h2').addClass("active");
                        $nowmenu.siblings().find('h2').removeClass("active");
                        var listname = $nowmenu.find("h2").text();   
                        //alert(listname);  

                        if (listname == "列表文章"){
                            $(".containwarp").animate({right:0},"slow");
                        }else if(listname == "故事集") {
                            $(".containwarp").animate({right:width},"slow");
                        }else if(listname == "视频集"){    //不可能到这里
                            $(".containwarp").animate({right:width*2},"slow");
                        }
                    }
                 }
            }   
        });
    })
</script>
</body>
</html>